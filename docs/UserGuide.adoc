= CLI Battleship - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/se-edu/addressbook-level4

By: `Team W14-3`      Since: `Jan 2019`      Licence: `MIT`

== Introduction

Ships ahoy! Battleships is a retro game for people who want to have the joy of playing Battleships without the hassle and fuss of a physical game.

Battleships is optimised for people who want to use a Command Line Interface (CLI), while still retaining the benefits of a Graphical User Interface (GUI). It can guarantee many hours of fun, especially between those long and boring periods of the day. Can't wait to get started? Head over to <<Quick Start>> to fire away!

== Quick Start

.  Ensure you have Java version `9` or later installed in your Computer.
.  Download the latest `addressbook.jar` link:{repoURL}/releases[here].
.  Copy the file to the folder you want to use as the home folder for your Address Book.
.  Double-click the file to start the app. The GUI should appear in a few seconds.
+
image::Ui.png[width="790"]
+
.  Type the command in the command box and press kbd:[Enter] to execute it. +
e.g. typing *`help`* and pressing kbd:[Enter] will open the help window.
.  Some example commands you can try:

* *`list`* : lists all battleships
* **`put`**`a1` : Puts a battleship with its head at the A1 cell
* **`play`** : Start the game
* **`shoot`**`a1` : Attacks the enemy's A1 cell
* *`exit`* : exits the app

Refer to <<Features>> for details of each command.

[[Features]]
== Features

====
*Command Format*

* Words in `UPPER_CASE` are the parameters to be supplied by the user e.g. in `add n/NAME`, `NAME` is a parameter which can be used as `add n/John Doe`.
* Items in square brackets are optional e.g `n/NAME [t/TAG]` can be used as `n/John Doe t/friend` or as `n/John Doe`.
* Items with `…`​ after them can be used multiple times including zero times e.g. `[t/TAG]...` can be used as `{nbsp}` (i.e. 0 times), `t/friend`, `t/friend t/family` etc.
* Parameters can be in any order e.g. if the command specifies `n/NAME p/PHONE_NUMBER`, `p/PHONE_NUMBER n/NAME` is also acceptable.
====

[NOTE]
====
Pressing the kbd:[&uarr;] and kbd:[&darr;] arrows will display the previous and next input respectively in the command box.
====

=== Viewing help : `help`

Opens a help window that displays this User Guide. +
Format: `help`

// tag::map[]
=== Map : `init`

Initialises both player's maps to the specified size. +
Format: `init MAP_SIZE` +
Example: `init 10`

_Figure 1_ below shows how the maps will be displayed in the UI.

.Player and enemy maps
image::initmapresult.png[width=750]

{empty} +
Throughout the course of the game, the cells in the map will change colour based on their status. +

[NOTE]
====
.Cell statuses:
- Hidden - Enemy map cell that has not been hit
- Water - Empty (i.e cell with no ship) player cell that has not been hit
- Water Hit - Empty cell that has been hit
- Ship - Player cell that has a ship and has not been hit
- Ship Hit - Ship cell that has been hit but not yet destroyed
- Ship Destroyed - Ship cell that has been destroyed
====

{empty} +
_Figure 2_ below shows which colour is used for each status.

.Cell colours
image::maplegend.png[width=400]
{empty} +

// end::map[]

=== Placing a ship on the map: `put`

Adds a battleship onto the player's map. The coordinates specified is the position of the battleship's head. +

Format: `put n/NAME c/COORDINATES r/ORIENTATION t/TAG` +

Examples:

* `put n/Destroyer c/a1 r/vertical`
* `put n/Aircraft Carrier c/b1 r/h` +

[NOTE]
The head of a battleship refers to the top-most and left-most cell of the battleship. When coordinates are specified in the `put` command, it specifies the coordinates of the head of the battleship, as shown in the figure below.

image:BattleshipHeadExample.png[width=800]

.The coordinates of the `put` command refer to the coordinates of the battleship head.
image:BattleshipHeadExample2.png[width=800]

_Figure 3_ shows how a battleship is put at coordinate `a5`. The head of the battleship is therefore at `a5`. +

.The `put` command will put the battleship at a5, which is the battleship's head coordinate.
image::putshipheadexample.png[width=750]

The orientation of the battleship can be horizontal or vertical. The orientation of the battleship must be specified. It may be shortened to `h` or `v`. +

=== Listing all ships : `list`

Shows a list of all the player's battleships that are have been deployed on the map. There are four ways of using the `list` command:

1. List all the battleships.
1. List all the battleships that match a list of tags.
1. List all the battleships of a certain type.
1. List all the battleships of a certain type that match a list of tags.

Format:

* `list`
* `list t/[TAGS]`
* `list n/[NAME]`
* `list n/[NAME] t/[TAGS]`

Examples:

* `list`
* `list t/blueFleet`
* `list n/destroyer`
* `list n/destroyer t/blueFleet`

The list will show the battleship's head coordinate, the battleship's orientation, and the battleship's tags in square brackets. +

The format of each entry in the list is: `[NAME] [CURRENT LIFE] at [HEAD COORDINATE] [ORIENTATION] [TAGS]`.

.The `list` command
image::listexample.png[width=750]

The `list` command can also be used with tags. In the example provided, we have added the tag `bluefleet` to our destroyer at `f7`. Using the command `list t/bluefleet` will allow us to list all the battleships tagged with `bluefleet`.

.The `list` command with tags
image::listwithtagexample.png[width=750]

The `list` command can be used with both the name of the battleship and a list of tags. In this example from _Figure 6_ and _Figure 7_, we have created a fleet with two tags: `blue` and `green`.

.The `list` command showing our fleet
image::listall.png[width=750]

We are able to list a specific battleship by the name of `destroyer` with the tag `blue`, as in _Figure 7_.

.The `list` command with name and tags
image::listbytagbyname.png[width=750]

=== Locating ships by name: `find`

Finds battleships whose names contain any of the given keywords. +
Format: `find NAME [MORE_NAMES]`

****
* The search is case insensitive. e.g `hood` will match `Hood`
* The order of the keywords does not matter. e.g. `Wales Prince` will match `Prince Of Wales`
* Only the name is searched.
* Only full words will be matched e.g. `Bel` will not match `Belfast`
* Persons matching at least one keyword will be returned (i.e. `OR` search). +
e.g. `King York` will return `King George V`, `Duke of York`
****

Examples:

* `find Vengeance` +
Returns `Name: RSS Vengeance, Size: 4, Command: true, Position: d2`

[NOTE]
The position may not be displayed if the ship has not been placed.

=== List all tags: `listTags`

Lists all the tags that have been used to tag the battleships deployed on the map. +


Format: `listTags` +
Examples: `listTags`

[NOTE]
The list of tags is given in square brackets.

=== Selecting a ship : `select`

Selects the battleship identified by the index number used in the displayed ship list. +
Format: `select INDEX`

****
* The index refers to the index number shown in the displayed ship list.
* The index *must be a positive integer* `1, 2, 3, ...`
****

Examples:

* `list` +
`select 2` +
Selects the 2nd battleship in the inventory.
* `find Prinz Eugen` +
`select 1` +
Selects the 1st battleship in the results of the `find` command.

=== Beginning the battle: `begin`

Begins the battle against the computer enemy. +
Format: `begin` +
Alternative command: `start`

****
* After this command is entered, the program's AI will place its own ships.
****

=== Shooting at a coordinate: `shoot`

Launches an attack against given coordinate on the enemy's map. +
Format: `shoot COORDINATES` +
Alternative command: `attack`, `fire`, `hit`

Example:

* `shoot A6`

****
* The program will prevent an attack on an invalid coordinate..
* The program will prevent an attack on a square that has already been attacked.
* The program will prevent the user when attacking when they have already attacked. +
After attacking, they should use `endturn` to allow the computer to make its move.
****

=== Finishing a turn: `endturn`

Ends Player turn and starts Enemy's turn. +
Format: `endturn` +
Alternative command: `end`

****
* The program will end the player's turn and automatically play the Enemy's turn.
The player can see the enemy's attack reflected on the map and in the results box.
****
// tag::stats[]
=== Retrieving game statistics: `stats`

Prints a list of statistics related to gameplay, such as accuracy and current hits. +
Format: `stats`

Example:

* `stats`
// end::stats[]
// tag::undoredo[]
=== Undoing previous command : `undo`

Restores the inventory to the state before the previous _undoable_ command was executed. +
Format: `undo`

[NOTE]
====
Undoable commands: those commands that modify the inventory's content (`add`, `delete`, `edit` and `clear`).
====

Examples:

* `delete 1` +
`list` +
`undo` (reverses the `delete 1` command) +

* `select 1` +
`list` +
`undo` +
The `undo` command fails as there are no undoable commands executed previously.

* `delete 1` +
`clear` +
`undo` (reverses the `clear` command) +
`undo` (reverses the `delete 1` command) +

=== Redoing the previously undone command : `redo`

Reverses the most recent `undo` command. +
Format: `redo`

Examples:

* `delete 1` +
`undo` (reverses the `delete 1` command) +
`redo` (reapplies the `delete 1` command) +

* `delete 1` +
`redo` +
The `redo` command fails as there are no `undo` commands executed previously.

* `delete 1` +
`clear` +
`undo` (reverses the `clear` command) +
`undo` (reverses the `delete 1` command) +
`redo` (reapplies the `delete 1` command) +
`redo` (reapplies the `clear` command) +
// end::undoredo[]

=== Clearing all entries : `clear`

Clears all entries from the inventory. +
Format: `clear`

=== Exiting the program : `exit`

Exits the program. +
Format: `exit`

=== Saving the data

(placeholder for Statistics saving)

== FAQ

*Q*: How do I transfer my data to another Computer? +
*A*: Install the app in the other computer and overwrite the empty data file it creates with the file that contains the data of your previous Address Book folder.

== Command Summary

[width="200%",cols="<30%,<70%,50%, 50",options="header",]
|=======================================================================
|Feature |Format |Purpose   | Example
|*Attack*| `attack [coordinate]` |Attacks a selected cell on the enemy map.| `attack c1`
|*Clear*| `clear` |Clears the command box. | `clear`
|*End player turn*| `end turn` |Relinquish player turn to allow enemy to shoot once. | `end turn`
|*Help*| `help` |Opens up the help guide window. | `help`
|*Create map*| `init [integer_size]` | Initializes the map grid. | `init 8`
|*List ships*| `list` |List all available battleships | `list`
|*List tags*| `listTags` |List all available battleships by tags | `listTags`
|*Put ship on map*| `put n/NAME r/ORIENTATION c/COORDINATE [optional]t/TAG` |Place your battleship on the map. | `put n/Destroyer r/vertical c/a1 t/myfleet`
|*View statistics*| `stats` |Opens a Statistics Window. | `stats`
|*Start game*| `start game` |Let enemy place ships on enemy grid. | `start game`




